###
# /file demoa1.db
# /brief Hi Tate
# /bug There's an centipede.
# /desc fjdslifjwefoineli jlsdjfpowqjfj nsdmknfoiqup jmdaaklsmdflkdfjs qu9uoiqeopiqwep
###

###
# /brief This is for delay offset
# /bug This has no bugs
# /desc This is an analog input record that does something I think
###

record(ai, "SSPP:GUI:SETUP:DELAYaOFFSET") 
{
    ###
    # /param We used the passive value for SCAN.
    ###
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "SSPP:GUI:SETUP:UPDATEaDELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(fanout, "SSPP:GUI:SETUP:UPDATEaDELAYaCALC")
{
	field(SCAN, "Passive")
	field(SELM,  0)
	field(LNK0, "CLRU8:LRU01:DPG:DELAYaCALC")
	field(LNK1, "CLRU8:LRU02:DPG:DELAYaCALC")
	field(LNK2, "CLRU8:LRU03:DPG:DELAYaCALC")
	field(LNK3, "CLRU8:LRU04:DPG:DELAYaCALC")
	field(LNK4, "CLRU8:LRU05:DPG:DELAYaCALC")
	field(LNK5, "CLRU8:LRU06:DPG:DELAYaCALC")
	field(LNK6, "CLRU8:LRU07:DPG:DELAYaCALC")
	field(LNK7, "CLRU8:LRU08:DPG:DELAYaCALC")
}

record(ai, "CLRU8:LRU01:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU01:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU01:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU01:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	info(autosaveFields, "VAL")
}

record(ai, "CLRU8:LRU02:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")	
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU02:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU02:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU02:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	info(autosaveFields, "VAL")
}

record(ai, "CLRU8:LRU03:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU03:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU03:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU03:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(ai, "CLRU8:LRU04:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU04:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU04:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU04:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(ai, "CLRU8:LRU05:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU05:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU05:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU05:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(ai, "CLRU8:LRU06:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU06:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU06:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU06:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

###
# /brief This is for relative delay
# /bug This has some bugs
# /desc This is another ai record
###

record(ai, "CLRU8:LRU07:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU07:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "CLRU8:LRU07:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU07:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(ai, "CLRU8:LRU08:DPG:RELaDELAYaSET") 
{
	field(SCAN, "Passive")
	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
	field(FLNK, "CLRU8:LRU08:DPG:DELAYaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calcout, "CLRU8:LRU08:DPG:DELAYaCALC") 
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaOFFSET")
	field(INPB, "CLRU8:LRU08:DPG:RELaDELAYaSET")
	field(CALC, "A + B")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")
{
	field(SCAN, "Passive")
	field(INPA, "CLRU8:LRU01:DPG:DELAYaCALC")	
	field(INPB, "CLRU8:LRU01:DPG:GLOBALaDELAYaGET")
	field(INPC, "CLRU8:LRU02:DPG:DELAYaCALC")	
	field(INPD, "CLRU8:LRU02:DPG:GLOBALaDELAYaGET")
	field(INPE, "CLRU8:LRU03:DPG:DELAYaCALC")	
	field(INPF, "CLRU8:LRU03:DPG:GLOBALaDELAYaGET")
	field(INPG, "CLRU8:LRU04:DPG:DELAYaCALC")	
	field(INPH, "CLRU8:LRU04:DPG:GLOBALaDELAYaGET")
	field(CALC, "(A != B) || (C != D) || (E != F) || (G != H)")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calc, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
{
	field(SCAN, "Passive")
	field(INPA, "CLRU8:LRU05:DPG:DELAYaCALC")	
	field(INPB, "CLRU8:LRU05:DPG:GLOBALaDELAYaGET")
	field(INPC, "CLRU8:LRU06:DPG:DELAYaCALC")	
	field(INPD, "CLRU8:LRU06:DPG:GLOBALaDELAYaGET")
	field(INPE, "CLRU8:LRU07:DPG:DELAYaCALC")	
	field(INPF, "CLRU8:LRU07:DPG:GLOBALaDELAYaGET")
	field(INPG, "CLRU8:LRU08:DPG:DELAYaCALC")	
	field(INPH, "CLRU8:LRU08:DPG:GLOBALaDELAYaGET")
	field(CALC, "(A != B) || (C != D) || (E != F) || (G != H)")
	field(FLNK, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALC")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}

record(calcout, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALC")
{
	field(SCAN, "Passive")
	field(INPA, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa1a4")	
	field(INPB, "SSPP:GUI:SETUP:DELAYaCHANGEDaCALCa5a8")
	field(INPC, "SSPP:GUI:SETUP:SETaDELAYS.SELN")
	field(CALC, "A || B ? 1 : C")
	field(OUT,  "SSPP:GUI:SETUP:SETaDELAYS.SELN PP")
	info(autosaveFields, "VAL")
  	field(TSEL, "SSPP:SHOTID:DATA:ACTIVEaID.TIME")
}